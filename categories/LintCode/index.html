<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Category: LintCode | LinのCoding</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="InterviewPreparation Algorithm">
<meta property="og:type" content="website">
<meta property="og:title" content="LinのCoding">
<meta property="og:url" content="http://www.piedbiper.tk/categories/LintCode/index.html">
<meta property="og:site_name" content="LinのCoding">
<meta property="og:description" content="InterviewPreparation Algorithm">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LinのCoding">
<meta name="twitter:description" content="InterviewPreparation Algorithm">
  
    <link rel="alternative" href="/atom.xml" title="LinのCoding" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img lazy-src="http://static.comicvine.com/uploads/scale_super/11111/111111327/3278747-dc-detective-conan-17352255-857-933.jpg" class="js-avatar">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Lin Du</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Computer Science != Coding</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/LinsanityDu" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://www.weibo.com/p/1005053215819365/home?from=page_100505&mod=TAB#place" title="weibo">weibo</a>
					        
								<a class="facebook" target="_blank" href="https://www.facebook.com/lin.du.9081" title="facebook">facebook</a>
					        
								<a class="linkedin" target="_blank" href="https://www.linkedin.com/profile/view?id=383673761&trk=hp-identity-name" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Algorithms/" style="font-size: 20px;">Algorithms</a><a href="/tags/HashTable/" style="font-size: 15px;">HashTable</a><a href="/tags/Heap/" style="font-size: 10px;">Heap</a><a href="/tags/LintCode/" style="font-size: 17.5px;">LintCode</a><a href="/tags/Others/" style="font-size: 10px;">Others</a><a href="/tags/Queue/" style="font-size: 10px;">Queue</a><a href="/tags/Sorting/" style="font-size: 10px;">Sorting</a><a href="/tags/Stack/" style="font-size: 12.5px;">Stack</a><a href="/tags/geeeksforgeeks/" style="font-size: 10px;">geeeksforgeeks</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.1point3acres.com/bbs/">一亩三分地论坛</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.bilibili.com/">无节操的B站</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.joindota.com/en/start">JoinDota</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://bbs.sgamer.com/forum-44-1.html">中国最多喷子的聚集地</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">Too Young Too Simple，Sometimes Naive</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Lin Du</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://static.comicvine.com/uploads/scale_super/11111/111111327/3278747-dc-detective-conan-17352255-857-933.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Lin Du</h1>
			</hgroup>
			
			<p class="header-subtitle">Computer Science != Coding</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/LinsanityDu" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://www.weibo.com/p/1005053215819365/home?from=page_100505&mod=TAB#place" title="weibo">weibo</a>
			        
						<a class="facebook" target="_blank" href="https://www.facebook.com/lin.du.9081" title="facebook">facebook</a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/profile/view?id=383673761&trk=hp-identity-name" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-MaxTree" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/10/MaxTree/" class="article-date">
  	<time datetime="2015-06-11T02:11:01.000Z" itemprop="datePublished">2015-06-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/10/MaxTree/">[LintCode] - MaxTree</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="Question"><em>Question</em></h4><h5 id="link"><a href="http://www.lintcode.com/en/problem/max-tree/" target="_blank" rel="external">link</a></h5><p>Given an integer array with no duplicates. A max tree building on this array is defined as follow:</p>
<p>The root is the maximum number in the array<br>The left subtree and right subtree are the max trees of the subarray divided by the root number.<br>Construct the max tree by the given array.</p>
<h5 id="Challenge">Challenge</h5><p>O(n) time and memory.</p>
<h4 id="Thought_and_Solution"><em>Thought and Solution</em></h4><p>Recursion: use recursion method, in the worst case, the complexity is O(n^2).</p>
<p>Linear method: Refer to the analysis of some other people: <a href="http://www.meetqun.com/thread-3335-1-1.html" target="_blank" rel="external">link</a></p>
<p>这个题Leetcode上没有，其实这种树叫做笛卡树（ Cartesian tree）。直接递归建树的话复杂度最差会退化到O(n^2)。经典建树方法，用到的是单调堆栈。我们堆栈里存放的树，只有左子树，没有有子树，且根节点最大。</p>
<p>（1） 如果新来一个数，比堆栈顶的树根的数小，则把这个数作为一个单独的节点压入堆栈。</p>
<p>（2） 否则，不断从堆栈里弹出树，新弹出的树以旧弹出的树为右子树，连接起来，直到目前堆栈顶的树根的数大于新来的数。然后，弹出的那些数，已经形成了一个新的树，这个树作为新节点的左子树，把这个新树压入堆栈。</p>
<p>这样的堆栈是单调的，越靠近堆栈顶的数越小。</p>
<p>最后还要按照（2）的方法，把所有树弹出来，每个旧树作为新树的右子树。</p>
<h4 id="My_Code"><em>My Code</em></h4><p>Non-recursion:</p>
<pre><code>/**
 * <span class="type">Definition</span> <span class="keyword">of</span> <span class="type">TreeNode</span>:
 * public class <span class="type">TreeNode</span> {
 *     public <span class="type">int</span> val;
 *     public <span class="type">TreeNode</span> left, right;
 *     public <span class="type">TreeNode</span>(<span class="type">int</span> val) {
 *         this.val = val;
 *         this.left = this.right = null;
 *     }
 * }
 */
public class <span class="type">Solution</span> {
    /**
     * @param A: <span class="type">Given</span> an integer <span class="type">array</span> <span class="keyword">with</span> no duplicates.
     * @<span class="keyword">return</span>: <span class="type">The</span> root <span class="keyword">of</span> max tree.
     */
    public <span class="type">TreeNode</span> maxTree(<span class="type">int</span>[] A) {
        // write your code here
        <span class="keyword">if</span> (A == null || A.length == <span class="number">0</span>) {
            <span class="keyword">return</span> null;
        }

        <span class="type">Stack</span>&lt;<span class="type">TreeNode</span>&gt; stack = new <span class="type">Stack</span>&lt;<span class="type">TreeNode</span>&gt;();
        <span class="type">int</span> len = A.length;

        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) {
            <span class="keyword">if</span> (stack.isEmpty() || stack.peek().val &gt;= A[i]) {
                stack.push(new <span class="type">TreeNode</span>(A[i]));
            } <span class="keyword">else</span> {
                <span class="type">TreeNode</span> hasLeftSon = new <span class="type">TreeNode</span>(A[i]);
                <span class="type">TreeNode</span> leftson = stack.pop();
                <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek().val &lt; A[i]) {
                    <span class="type">TreeNode</span> temp = stack.peek();
                    temp.right = leftson;
                    leftson = temp;
                    stack.pop();
                }
                hasLeftSon.left = leftson;
                stack.push(hasLeftSon);
            }
        }

        <span class="type">TreeNode</span> <span class="literal">result</span> = stack.pop();

        <span class="keyword">while</span>(!stack.isEmpty()) {
            <span class="type">TreeNode</span> temp = stack.pop();
            temp.right = <span class="literal">result</span>;
            <span class="literal">result</span> = temp;
        }

        <span class="keyword">return</span> <span class="literal">result</span>;
    }
}
</code></pre><p>Recursion: (in the future)</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithms/">Algorithms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HashTable/">HashTable</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LintCode/">LintCode</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/LintCode/">LintCode</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-LongestConsecutiveSequence" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/04/LongestConsecutiveSequence/" class="article-date">
  	<time datetime="2015-06-05T01:49:51.000Z" itemprop="datePublished">2015-06-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/04/LongestConsecutiveSequence/">[LintCode] - LongestConsecutiveSequence</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="Question"><em>Question</em></h4><h5 id="link"><a href="http://www.lintcode.com/en/problem/longest-consecutive-sequence/#" target="_blank" rel="external">link</a></h5><p>Given an unsorted array of integers, find the length of the longest consecutive elements sequence.</p>
<h5 id="Example">Example</h5><p>Given [100, 4, 200, 1, 3, 2],<br>The longest consecutive elements sequence is [1, 2, 3, 4]. Return its length: 4.</p>
<h5 id="Clarification">Clarification</h5><p>Your algorithm should run in O(n) complexity.</p>
<h4 id="Thought_and_Solution"><em>Thought and Solution</em></h4><h5 id="Thought_1">Thought 1</h5><p>Using HashMap</p>
<ol>
<li><p>In the map, we create some sets representing consecutive space. For example, we have a sequence [3, 4, 5]. We can have key: 3 - value: 5 and key: 5 - value: 3. And put them in the HashMap.</p>
</li>
<li><p>When a new number coming in, such as N = 6. We can search whether the sequence ending from N - 1 and starting from N + 1 exists or not. We can join and enlarge the set.</p>
</li>
<li><p>update maxValue.</p>
</li>
</ol>
<h4 id="My_Code_for_Thought_1"><em>My Code for Thought 1</em></h4><pre><code>public <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{
    public int longestConsecutive(int[] num) {
        <span class="keyword">if</span> (num == null) {
            <span class="keyword">return</span> <span class="number">0</span>;
        }

        <span class="type">HashMap</span>&lt;<span class="type">Integer</span>, <span class="type">Integer</span>&gt; <span class="built_in">map</span> = <span class="keyword">new</span> <span class="type">HashMap</span>&lt;<span class="type">Integer</span>, <span class="type">Integer</span>&gt;();
        int <span class="built_in">max</span> = <span class="number">0</span>;
        int len = num.length;

        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; len; i++) {
            <span class="keyword">if</span> (<span class="built_in">map</span>.<span class="built_in">contains</span>(num[i])) {
                <span class="keyword">continue</span>;
            }

            int <span class="keyword">left</span> = num[i];
            int <span class="keyword">right</span> = num[i];

            int board = <span class="built_in">map</span>.<span class="keyword">get</span>(num[i] - <span class="number">1</span>);
            <span class="keyword">if</span> (board != null &amp;&amp; board &lt; <span class="keyword">left</span>) {
                <span class="keyword">left</span> = board;

                <span class="built_in">map</span>.remove(<span class="keyword">left</span>);
                <span class="built_in">map</span>.remove(num[i] - <span class="number">1</span>);
            }

            board = <span class="built_in">map</span>.<span class="keyword">get</span>(num[i] + <span class="number">1</span>);
            <span class="keyword">if</span> (board != null &amp;&amp; board &gt; <span class="keyword">right</span>) {
                <span class="keyword">right</span> = board;

                <span class="built_in">map</span>.remove(<span class="keyword">right</span>);
                <span class="built_in">map</span>.remove(num[i] + <span class="number">1</span>);
            }

            <span class="built_in">map</span>.put(<span class="keyword">left</span>, <span class="keyword">right</span>);
            <span class="built_in">map</span>.put(<span class="keyword">right</span>, <span class="keyword">left</span>);

            <span class="built_in">max</span> = <span class="type">Math</span>.<span class="built_in">max</span>(<span class="built_in">max</span>, <span class="keyword">right</span> - <span class="keyword">left</span> + <span class="number">1</span>);
        }
        <span class="keyword">return</span> <span class="built_in">max</span>;

    }
}
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithms/">Algorithms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HashTable/">HashTable</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LintCode/">LintCode</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/LintCode/">LintCode</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-Heapify" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/04/Heapify/" class="article-date">
  	<time datetime="2015-06-05T01:12:54.000Z" itemprop="datePublished">2015-06-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/04/Heapify/">[LintCode] - Heapify</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="Question"><em>Question</em></h4><h5 id="link"><a href="http://www.lintcode.com/en/problem/heapify/#" target="_blank" rel="external">link</a></h5><p>Given an integer array, heapify it into a min-heap array.</p>
<p>For a heap array A, A[0] is the root of heap, and for each A[i], A[i <em> 2 + 1] is the left child of A[i] and A[i </em> 2 + 2] is the right child of A[i].</p>
<h5 id="Example">Example</h5><p>Given [3,2,1,4,5], return [1,2,3,4,5] or any legal heap array.</p>
<h5 id="Challenge">Challenge</h5><p>O(n) time complexity</p>
<h5 id="Clarification">Clarification</h5><h6 id="What_is_heap?"><em>What is heap?</em></h6><p>Heap is a data structure, which usually have three methods: push, pop and top. where “push” add a new element the heap, “pop” delete the minimum/maximum element in the heap, “top” return the minimum/maximum element.</p>
<h6 id="What_is_heapify?"><em>What is heapify?</em></h6><p>Convert an unordered integer array into a heap array. If it is min-heap, for each element A[i], we will get A[i <em> 2 + 1] &gt;= A[i] and A[i </em> 2 + 2] &gt;= A[i].</p>
<p>What if there is a lot of solutions?<br>Return any of them.</p>
<h4 id="Thought_and_Solution"><em>Thought and Solution</em></h4><p>What is the representation of heap?</p>
<p>The heap is often placed in an array with the layout of a complete binary tree. The complete binary tree maps the binary tree structure into the array indices; each array index represents a node:</p>
<pre><code>If <span class="built_in">i</span> is the index of the current node:
Parent of <span class="built_in">i</span> = <span class="built_in">floor</span>((<span class="built_in">i</span> - <span class="number">1</span>) / <span class="number">2</span>)
Left Child of <span class="built_in">i</span> = <span class="number">2</span> * <span class="built_in">i</span> + <span class="number">1</span>
Right Child of <span class="built_in">i</span> = <span class="number">2</span> * <span class="built_in">i</span> + <span class="number">2</span>
</code></pre><p>Then, a sorted array is created by repeatly removing the largest element from the heap(the root of the heap), and inserting it into the array. The heap is updated after each removal to maintain the heap. Once all objects have been removed from the heap, the result is a sorted array.</p>
<p>Heapsort can be performed in place. The array can be split into two parts, the sorted array and the heap. </p>
<p>First, let us have the pseudocode of heapify:</p>
<pre><code>(Put elements <span class="operator">of</span> <span class="string">'a'</span> <span class="operator">in</span> heap order, <span class="operator">in</span>-place)
Procedure heapify(<span class="operator">a</span>, count) is
    (<span class="built_in">start</span> is assigned <span class="operator">the</span> index <span class="operator">in</span> <span class="string">'a'</span> <span class="operator">of</span> <span class="operator">the</span> <span class="keyword">last</span> parent node)
    (<span class="operator">the</span> <span class="keyword">last</span> <span class="keyword">element</span> <span class="operator">in</span> <span class="operator">a</span> <span class="number">0</span>-based array is <span class="keyword">at</span> index count - <span class="number">1</span>; find <span class="operator">the</span> parent <span class="operator">of</span> that <span class="keyword">element</span>)
    <span class="built_in">start</span> = floor((count - <span class="number">2</span>) / <span class="number">2</span>)

    <span class="keyword">while</span> <span class="built_in">start</span> &gt;= <span class="number">0</span> <span class="built_in">do</span>
        (sift down <span class="operator">the</span> node <span class="keyword">at</span> <span class="operator">the</span> index <span class="string">'start'</span> <span class="built_in">to</span> <span class="operator">the</span> proper place such that all nodes below <span class="operator">the</span> <span class="built_in">start</span> index are <span class="operator">in</span> heap order)
        siftDown(<span class="operator">a</span>, <span class="built_in">start</span>, count - <span class="number">1</span>)
        (go <span class="built_in">to</span> <span class="operator">the</span> next parent node)
        <span class="built_in">start</span> = <span class="built_in">start</span> - <span class="number">1</span>
    (<span class="keyword">after</span> sifting down <span class="operator">the</span> root all nodes/elements are <span class="operator">in</span> heap order)


Procedure siftDown(<span class="operator">a</span>, <span class="built_in">start</span>, <span class="function"><span class="keyword">end</span>) <span class="title">is</span> </span>
    root = <span class="built_in">start</span>
    <span class="keyword">while</span> root * <span class="number">2</span> + <span class="number">1</span> &lt;= <span class="function"><span class="keyword">end</span> <span class="title">do</span>  (<span class="title">While</span> <span class="title">the</span> <span class="title">root</span> <span class="title">has</span> <span class="title">at</span> <span class="title">least</span> <span class="title">one</span> <span class="title">chile</span>)</span>
        child = root * <span class="number">2</span> + <span class="number">1</span>
        swap = root

        <span class="keyword">if</span> (<span class="operator">a</span>[swap] &lt; <span class="operator">a</span>[child])
            swap = child
        (If there is <span class="operator">a</span> <span class="constant">right</span> child <span class="operator">and</span> that child is greater)
        <span class="keyword">if</span> (child + <span class="number">1</span> &lt;= <span class="function"><span class="keyword">end</span> <span class="title">and</span> <span class="title">a</span>[<span class="title">swap</span>] &lt; <span class="title">a</span>[<span class="title">child</span> + <span class="title">1</span>])</span>
            swap = child + <span class="number">1</span>
        <span class="keyword">if</span> swap = root
        (The root holds <span class="operator">the</span> largest <span class="keyword">element</span>. Since we assume <span class="operator">the</span> heaps rooted <span class="keyword">at</span> <span class="operator">the</span> children are valid. this means that we are done.)
            <span class="constant">return</span> 
        <span class="keyword">else</span> 
            swap(s[root], <span class="operator">a</span>[swap])
            root = swap (repear <span class="built_in">to</span> continue sifting down <span class="operator">the</span> child now)
</code></pre><p>The <em>heapify</em> procedure can be thought of as building a heap from the bottom up by successively sifting downward to establish the heap property. An alternative version that builds the heap top-down and sifts upward is called “<em>siftup</em>“. This “siftup” version can be visualized as starting with an empty heap and successively inserting elements, but the “siftdown” treats the entire input array as a full but “broken” heap and “repairs” it starting from the last non-trivial sub-heap (that is, the last parent node).</p>
<p>Below is the pesudocode of “siftup”</p>
<pre><code>Procudure heapify(a, count) is
    (<span class="operator"><span class="keyword">end</span> <span class="keyword">is</span> assigned the <span class="keyword">index</span> <span class="keyword">of</span> the <span class="keyword">first</span> child <span class="keyword">of</span> the root)
    <span class="keyword">end</span> = <span class="number">1</span>

    while <span class="keyword">end</span> &lt; <span class="keyword">count</span>
        (sift up the node <span class="keyword">at</span> <span class="keyword">index</span> <span class="keyword">end</span> <span class="keyword">to</span> the proper place such that <span class="keyword">all</span> nodes above the <span class="keyword">end</span> <span class="keyword">index</span> <span class="keyword">are</span> <span class="keyword">in</span> heap <span class="keyword">order</span>)
        siftup(a, <span class="number">0</span>, <span class="keyword">end</span>)
        <span class="keyword">end</span> = <span class="keyword">end</span> + <span class="number">1</span>
    (<span class="keyword">after</span> sifting up the <span class="keyword">last</span> node <span class="keyword">all</span> nodes <span class="keyword">are</span> <span class="keyword">in</span> heap <span class="keyword">order</span>)

<span class="keyword">Procedure</span> siftup(a, <span class="keyword">start</span>, <span class="keyword">end</span>)
    <span class="keyword">input</span>: <span class="keyword">start</span> represents the <span class="keyword">limit</span> <span class="keyword">of</span> how far up the heap <span class="keyword">to</span> sift.
           <span class="keyword">end</span> <span class="keyword">is</span> the node <span class="keyword">to</span> sift up.

    child = <span class="keyword">end</span>
    while child &gt; <span class="keyword">start</span>
        parent = <span class="keyword">floor</span> ((child - <span class="number">1</span>) / <span class="number">2</span>)
        <span class="keyword">if</span> a[parent] &lt; a[child] 
            swap(a[parent], a[child])
            child = parent (<span class="keyword">repeat</span> <span class="keyword">to</span> <span class="keyword">continue</span> sifting up the parent <span class="keyword">now</span>)
        <span class="keyword">else</span>
            <span class="keyword">return</span></span>
</code></pre><p>For comparison, the “siftdown” has O(n) time complexity, while the “siftup” has O(nlogn) time complexity due to its equivalence with inserting each element, one at a time, into an empty heap.</p>
<h4 id="My_Code_(the_siftdown_approach)"><em>My Code (the siftdown approach)</em></h4><pre><code>public class Solution {
    /**
<span class="label">     * @param A:</span> Given an integer array
<span class="label">     * @return:</span> void
     */
    public void heapify(int[] <span class="literal">A</span>) {
        // write your code here
        for (int i = <span class="literal">A</span>.length/<span class="number">2</span><span class="comment">; i &gt;= 0; i--) {</span>
            siftdown(<span class="literal">A</span>, i)<span class="comment">;</span>
        }

    }

    public void siftdown(int[] <span class="literal">A</span>, int k) {
         <span class="keyword">while</span> (k &lt; <span class="literal">A</span>.length) {
            int smallest = k<span class="comment">;</span>
            <span class="keyword">if</span> (k * <span class="number">2</span> + <span class="number">1</span> &lt; <span class="literal">A</span>.length &amp;&amp; <span class="literal">A</span>[k * <span class="number">2</span> + <span class="number">1</span>] &lt; <span class="literal">A</span>[smallest]) {
                smallest = k * <span class="number">2</span> + <span class="number">1</span><span class="comment">;</span>
            }
            <span class="keyword">if</span> (k * <span class="number">2</span> + <span class="number">2</span> &lt; <span class="literal">A</span>.length &amp;&amp; <span class="literal">A</span>[k * <span class="number">2</span> + <span class="number">2</span>] &lt; <span class="literal">A</span>[smallest]) {
                smallest = k * <span class="number">2</span> + <span class="number">2</span><span class="comment">;</span>
            }
            <span class="keyword">if</span> (smallest == k) {
                <span class="keyword">break</span><span class="comment">;</span>
            }
            int temp = <span class="literal">A</span>[smallest]<span class="comment">;</span>
            <span class="literal">A</span>[smallest] = <span class="literal">A</span>[k]<span class="comment">;</span>
            <span class="literal">A</span>[k] = temp<span class="comment">;</span>
            swap(<span class="literal">A</span>[smallest], <span class="literal">A</span>[k])<span class="comment">;</span>
            k = smallest<span class="comment">;</span>
        }
    }
}
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithms/">Algorithms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Heap/">Heap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LintCode/">LintCode</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/LintCode/">LintCode</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-MinStack" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/01/MinStack/" class="article-date">
  	<time datetime="2015-06-01T23:55:31.000Z" itemprop="datePublished">2015-06-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/01/MinStack/">[LintCode] - Min Stack</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="Question"><em>Question</em></h4><h5 id="link"><a href="http://www.lintcode.com/en/problem/min-stack/#" target="_blank" rel="external">link</a></h5><p>Implement a stack with min() function, which will return the smallest number in the stack.</p>
<p>It should support push, pop and min operation all in O(1) cost.</p>
<h5 id="Example">Example</h5><p>Operations: push(1), pop(), push(2), push(3), min(), push(1), min() Return: 1, 2, 1</p>
<h5 id="Note">Note</h5><p>min operation will never be called if there is no number in the stack</p>
<h4 id="Thought_and_Solution"><em>Thought and Solution</em></h4><p>This is a classic data structure problem. My thought is using two stack: one NORMAL stack is used to store all numbers that are pushed in; the other one is used to store the MINIMUM number so far. </p>
<p>When we are doing “push” operation, we push the number into the NORMAL stack as usual; we also push this number into the MINIMUM stack if this number is smaller than the peek of the MINIMUM stack. Here we need to care about two things:</p>
<p>(1) If the MINIMUM stack is empty, we just push the number into it.</p>
<p>(2) If the number is larger than the peek of the MINIMUM stack, we just push the minStack.peek() into minStack to guarantee NORMAL and MINIMUM stack have the same number of elements.</p>
<h4 id="My_Code"><em>My Code</em></h4><pre><code><span class="keyword">public</span> class Solution {

    <span class="keyword">private</span> <span class="built_in">Stack</span><span class="subst">&lt;</span><span class="built_in">Integer</span><span class="subst">&gt;</span> <span class="built_in">stack</span>;
    <span class="keyword">private</span> <span class="built_in">Stack</span><span class="subst">&lt;</span><span class="built_in">Integer</span><span class="subst">&gt;</span> minStack;
    <span class="keyword">public</span> Solution() {
        <span class="comment">// do initialize if necessary</span>
        <span class="built_in">stack</span> <span class="subst">=</span> <span class="literal">new</span> <span class="built_in">Stack</span><span class="subst">&lt;</span><span class="built_in">Integer</span><span class="subst">&gt;</span>();
        minStack <span class="subst">=</span> <span class="literal">new</span> <span class="built_in">Stack</span><span class="subst">&lt;</span><span class="built_in">Integer</span><span class="subst">&gt;</span>();
    }

    <span class="keyword">public</span> <span class="literal">void</span> push(int number) {
        <span class="comment">// write your code here</span>
        <span class="built_in">stack</span><span class="built_in">.</span>push(number);
        <span class="keyword">if</span> (minStack<span class="built_in">.</span>isEmpty()) {
            minStack<span class="built_in">.</span>push(number);
        } <span class="keyword">else</span> {
            <span class="keyword">if</span> (number <span class="subst">&lt;</span> minStack<span class="built_in">.</span>peek()) {
                minStack<span class="built_in">.</span>push(number);
            } <span class="keyword">else</span> {
                minStack<span class="built_in">.</span>push(minStack<span class="built_in">.</span>peek());
            }
        }

    }

    <span class="keyword">public</span> int pop() {
        <span class="comment">// write your code here</span>
        minStack<span class="built_in">.</span>pop();
        <span class="keyword">return</span> <span class="built_in">stack</span><span class="built_in">.</span>pop();
    }

    <span class="keyword">public</span> int <span class="keyword">min</span>() {
        <span class="comment">// write your code here</span>
        <span class="keyword">return</span> minStack<span class="built_in">.</span>peek();
    }
}
</code></pre><p><img src="http://www.ritambhara.in/wp-content/uploads/2012/07/minstack_1.png" alt="">     </p>
<h6 id="Please_leave_comments_if_you_find_anything_incorrect,_or_you_have_more_suggestions_on_this_topic-">Please leave comments if you find anything incorrect, or you have more suggestions on this topic.</h6>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithms/">Algorithms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LintCode/">LintCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Stack/">Stack</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/LintCode/">LintCode</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-ImplementQueueByTwoStacks" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/01/ImplementQueueByTwoStacks/" class="article-date">
  	<time datetime="2015-06-01T23:55:31.000Z" itemprop="datePublished">2015-06-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/01/ImplementQueueByTwoStacks/">[LintCode] - Implement Queue by Two Stacks</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="Question"><em>Question</em></h4><h5 id="link"><a href="http://www.lintcode.com/en/problem/implement-queue-by-two-stacks/#" target="_blank" rel="external">link</a></h5><p>As the title described, you should only use two stacks to implement a queue’s actions.</p>
<p>The queue should support push(element), pop() and top() where pop is pop the first(a.k.a front) element in the queue.</p>
<p>Both pop and top methods should return the value of first element.</p>
<h5 id="Example">Example</h5><p>For push(1), pop(), push(2), push(3), top(), pop(), you should return 1, 2 and 2</p>
<h5 id="Challenge">Challenge</h5><p>implement it by two stacks, do not use any other data structure and push, pop and top should be O(1) by AVERAGE.</p>
<h4 id="Thought_and_Solution"><em>Thought and Solution</em></h4><p>Push: S1 - Push(x)</p>
<p>Pop: if S2 is empty. S1 -&gt; S2 then S2.pop()</p>
<p>Top: similar like Pop</p>
<h4 id="My_Code"><em>My Code</em></h4><pre><code><span class="keyword">public</span> <span class="keyword">class</span> Solution {
    <span class="keyword">private</span> Stack&lt;Integer&gt; stack1;
    <span class="keyword">private</span> Stack&lt;Integer&gt; stack2;

    <span class="keyword">public</span> Solution() {
       <span class="comment">// do initialization if necessary</span>
       stack1 = <span class="keyword">new</span> Stack&lt;Integer&gt;();
       stack2 = <span class="keyword">new</span> Stack&lt;Integer&gt;();
    }

    <span class="keyword">public</span> <span class="keyword">void</span> <span class="keyword">push</span>(<span class="keyword">int</span> element) {
        <span class="comment">// write your code here</span>
        stack1.<span class="keyword">push</span>(element);
    }

    <span class="keyword">public</span> <span class="keyword">int</span> <span class="keyword">pop</span>() {
        <span class="comment">// write your code here</span>
        <span class="keyword">if</span> (stack2.isEmpty()) {
            <span class="keyword">while</span> (!stack1.isEmpty()) {
                stack2.<span class="keyword">push</span>(stack1.<span class="keyword">pop</span>());
            }
        }
        <span class="keyword">return</span> stack2.<span class="keyword">pop</span>();
    }

    <span class="keyword">public</span> <span class="keyword">int</span> top() {
        <span class="comment">// write your code here</span>
        <span class="keyword">if</span> (stack2.isEmpty()) {
            <span class="keyword">while</span> (!stack1.isEmpty()) {
                stack2.<span class="keyword">push</span>(stack1.<span class="keyword">pop</span>());
            }
        }
        <span class="keyword">return</span> stack2.peek();
    }
}
</code></pre><p><img src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTE3FA4w_ianic7LCKdQYJZGhkm_mXJWX3mAMBR4ha823hgB5936g" alt="">     </p>
<h6 id="Please_leave_comments_if_you_find_anything_incorrect,_or_you_have_more_suggestions_on_this_topic-">Please leave comments if you find anything incorrect, or you have more suggestions on this topic.</h6>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithms/">Algorithms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LintCode/">LintCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Queue/">Queue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Stack/">Stack</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/LintCode/">LintCode</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-LintCode-HashFunction" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/05/31/LintCode-HashFunction/" class="article-date">
  	<time datetime="2015-05-31T23:55:31.000Z" itemprop="datePublished">2015-05-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/31/LintCode-HashFunction/">[LintCode] - Hash Function</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="Question"><em>Question</em></h4><h5 id="link"><a href="http://www.lintcode.com/en/problem/hash-function/#" target="_blank" rel="external">link</a></h5><p>In data structure Hash, hash function is used to convert a string(or any other type) into an integer smaller than hash size and bigger or equal to zero. The objective of designing a hash function is to “hash” the key as unreasonable as possible. A good hash function can avoid collision as less as possible. A widely used hash function algorithm is using a magic number 33, consider any string as a 33 based big integer like follow:</p>
<p>hashcode(“abcd”) = (ascii(a) <em> 33^3 + ascii(b) </em> 33^2 + ascii(c) *33 + ascii(d)) % HASH_SIZE </p>
<p>here HASH_SIZE is the capacity of the hash table (you can assume a hash table is like an array with index 0 ~ HASH_SIZE-1).</p>
<p>Given a string as a key and the size of hash table, return the hash value of this key.</p>
<h5 id="Example">Example</h5><p>For key=”abcd” and size=100, return 78</p>
<h5 id="Clarification">Clarification</h5><p>For this problem, you are not necessary to design your own hash algorithm or consider any collision issue, you just need to implement the algorithm as described.</p>
<h4 id="Thought_and_Solution"><em>Thought and Solution</em></h4><p>Just implement the given algorithm, but you need to care about the integer overflow. We can do it by type transformation easily. </p>
<p>Maybe I can find another way to do it later.</p>
<h4 id="My_Code"><em>My Code</em></h4><pre><code>class <span class="type">Solution</span> {
    /**
    * @param key: A <span class="type">String</span> you should hash
    * @param <span class="type">HASH_SIZE</span>: <span class="type">An</span> integer
     * @<span class="keyword">return</span> an integer
     */
    public <span class="type">int</span> hashCode(<span class="type">char</span>[] key,<span class="type">int</span> <span class="type">HASH_SIZE</span>) {
        // write your code here
        <span class="keyword">if</span> (key == null || key.length == <span class="number">0</span>) {
            <span class="keyword">return</span> <span class="number">0</span>;
        }
        long <span class="literal">result</span> = <span class="number">0</span>;
        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; key.length; i++) {
            <span class="literal">result</span> = <span class="literal">result</span> * <span class="number">33</span> + (<span class="type">int</span>)key[i];
            <span class="literal">result</span> %= <span class="type">HASH_SIZE</span>;
        }
        <span class="keyword">return</span> (<span class="type">int</span>)<span class="literal">result</span>;
    }
}    
</code></pre><p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Hash_table_4_1_1_0_0_1_0_LL.svg/300px-Hash_table_4_1_1_0_0_1_0_LL.svg.png" alt="">     </p>
<h6 id="Please_leave_comments_if_you_find_anything_incorrect,_or_you_have_more_suggestions_on_this_topic-">Please leave comments if you find anything incorrect, or you have more suggestions on this topic.</h6>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithms/">Algorithms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HashTable/">HashTable</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LintCode/">LintCode</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/LintCode/">LintCode</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 Lin Du
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/mobile.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>





<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  </div>
</body>
</html>